pipeline {
  // Run on the main Jenkins node
  agent any
  stages {
    stage('Test') {
      steps {
        // Use the Windows batch step 'bat' to call docker directly
        // This gives us 100% control over the command and its arguments
        bat 'docker run --rm -v "%WORKSPACE%:/workspace" -w /workspace node:16-alpine node --version'
      }
    }
  }
}
